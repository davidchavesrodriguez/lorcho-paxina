---
function randomNum() {
  let randomNum = Math.floor(Math.random() * 1025) + 1;
  return randomNum;
}

// Función para obtener datos del Pokémon
async function getPokemonData() {
  const response = await fetch(
    `https://pokeapi.co/api/v2/pokemon/${randomNum()}`
  );
  if (!response.ok) {
    throw new Error("Network response was not ok");
  }
  const data = await response.json();
  return data;
}

let pokemonData;
try {
  pokemonData = await getPokemonData();
  console.log(pokemonData);
} catch (error) {
  console.error("Error fetching Pokemon data:", error);
  pokemonData = { name: "Error fetching data" };
}
import Layout from "../layouts/Layout.astro";
---

<Layout title="Os nosos">
  <h1>Hola</h1>
  <h2>{pokemonData.name}</h2>
  <img
    src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonData.id}.png`
    alt="pokemon"
    loading="eager"
  />
  <h2>{pokemonData.name}</h2>
  <img
    src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonData.id+1}.png`
    alt="pokemon"
    loading="eager"
  />
  <h2>{pokemonData.name}</h2>
  <img
    src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonData.id+2}.png`
    alt="pokemon"
    loading="eager"
  />
  <h2>{pokemonData.name}</h2>
  <img
    src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonData.id+3}.png`
    alt="pokemon"
    loading="eager"
  />
  <h2>{pokemonData.name}</h2>
  <img
    src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonData.id+4}.png`
    alt="pokemon"
    loading="eager"
  />
  <h2>{pokemonData.name}</h2>
  <img
    src=`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemonData.id+5}.png`
    alt="pokemon"
    loading="eager"
  />
</Layout>
